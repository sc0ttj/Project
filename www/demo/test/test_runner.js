!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var n={},i={},t={},o={}.hasOwnProperty,a=/^\.\.?(\/|$)/,s=function(e,n){for(var i,t=[],o=(a.test(n)?e+"/"+n:n).split("/"),s=0,r=o.length;r>s;s++)i=o[s],".."===i?t.pop():"."!==i&&""!==i&&t.push(i);return t.join("/")},r=function(e){return e.split("/").slice(0,-1).join("/")},c=function(n){return function(i){var t=s(r(n),i);return e.require(t,n)}},l=function(e,n){var t=null;t=w&&w.createHot(e);var o={id:e,exports:{},hot:t};return i[e]=o,n(o.exports,c(e),o),o.exports},h=function(e){return t[e]?h(t[e]):e},u=function(e,n){return h(s(r(e),n))},m=function(e,t){null==t&&(t="/");var a=h(e);if(o.call(i,a))return i[a].exports;if(o.call(n,a))return l(a,n[a]);throw new Error("Cannot find module '"+e+"' from '"+t+"'")};m.alias=function(e,n){t[n]=e};var d=/\.[^.\/]+$/,g=/\/index(\.[^\/]+)?$/,f=function(e){if(d.test(e)){var n=e.replace(d,"");o.call(t,n)&&t[n].replace(d,"")!==n+"/index"||(t[n]=e)}if(g.test(e)){var i=e.replace(g,"");o.call(t,i)||(t[i]=e)}};m.register=m.define=function(e,t){if("object"==typeof e)for(var a in e)o.call(e,a)&&m.register(a,e[a]);else n[e]=t,delete i[e],f(e)},m.list=function(){var e=[];for(var i in n)o.call(n,i)&&e.push(i);return e};var w=e._hmr&&new e._hmr(u,m,n,i);m._cache=i,m.hmr=w&&w.wrap,m.brunch=!0,e.require=m}}(),function(){window;require.register("test_runner.js",function(e,n,i){!function(){var e=n("tests");this.beforeAll=function(){console.log("Running tests..")},this.afterAll=function(){for(cms.ui.hideMenu();$(".section").length>1;)$(".section").last().remove();cms.reload()},this.beforeEach=function(e){e&&console.log("\nScenario: "+e.name),cms.ui.hideMenu()},this.afterEach=function(e){$(".cms-modal").remove()},this.run=function(){function n(n){console.log("\n"),e.slice(t).map(function(e){console.log("skipped:",e.name)}),console.log("\n"),console[n?"error":"log"]("Tests "+(n?'failed ✘: "'+n.toString().substring(7)+'"\n\n'+n.stack:"succeeded ✔")),this.afterAll()}var i,t=0;beforeAll(),function o(a){if(this.afterEach(i),a||!(i=e[t++]))return n(a);this.beforeEach(i);try{i.test.call(i.test,o)}catch(a){o(a)}}()}}(),run()}),require.register("tests.js",function(e,n,i){i.exports=function(){var e=[],n=function(n,i){e.push({name:n,test:i})},i=function(e,n){if(!e)throw console.error("   ✘ "+n),new Error(n);/PhantomJS/.test(window.navigator.userAgent)?console.log("   ✔ "+n):console.log("%c   ✔ "+n,"color: #005500;")},t=function(e,n){i(n,e)};return n("page has valid HTML",function(e){t("page <head> count to be more than zero",$("head").length>0),t("page <body> count to be more than zero",$("body").length>0),t('<body> has class "cms-html5"',$("body").hasClass("cms-html5")>0),e()}),n("page has 1 section",function(e){t("page to have 1 section",1===$(".section").length),e()}),n("page has a CMS menu",function(e){t("page to have 1 CMS menu button",1===$(".cms-menu-btn").length),t("CMS menu button to be visible",$(".cms-menu-btn").hasClass("cms-hidden")===!1),e()}),n("the CMS menu is hidden",function(e){t("CMS menu is hidden on page load",$(".cms-menu").hasClass("cms-ui-hidden")===!0),e()}),n("show CMS menu",function(e){cms.ui.showMenu(),t("CMS menu to be visible",$(".cms-menu").hasClass("cms-ui-hidden")===!1),e()}),n("hide CMS menu",function(e){cms.ui.hideMenu(),t("CMS menu to be hidden",$(".cms-menu").hasClass("cms-ui-hidden")===!0),e()}),n("show the file manager",function(e){cms.fileManager.showUI(),t("the File Manager header to be visible",$(".cms-modal-viewport").hasClass("cms-modal-file-manager")===!0),e()}),n("show the META manager",function(e){cms.metaManager.showUI(),t("the META Manager header to be visible",$(".cms-meta-form")[0].length>0),e()}),n("show the Translation manager",function(e){cms.translationManager.showUI(),t("the Translation manager heading to be visible","Manage Translations"==$(".cms-modal-header")[0].innerText),e()}),n("show the Preview manager",function(e){cms.previewManager.showUI(),t("the Preview Manager header to be visible",$(".cms-modal-viewport").hasClass("cms-modal-viewport-previewer")),e()}),n("the preview window resizes to given dimensions",function(e){var n,i;cms.previewManager.showUI(),n=$("#pagePreview")[0].width,$(".cms-iframe-resizer-btn")[0].click(),i=$("#pagePreview")[0].height,t("height of iframe #pagePreview should have changed",n!==i),e()}),n("the CMS shows the Section Manager",function(e){cms.sectionManager.showUI(),i("Section Manager"==$(".cms-modal-header")[0].innerText,"the Section Manager should be visible"),e()}),n("the CMS adds a section",function(e){cms.sectionManager.showUI(),cms.sectionManager.getTemplateFromFile("_article-full-width.tmpl"),setTimeout(function(){i(2==$(".section").length,"the CMS should have 2 sections"),e()},400)}),n("the CMS adds an inline image",function(e){mediaBtnClickHandler($(".section2 p")[0]),t("page added one inline-image",1===$(".section2 .inline-image").length),t("inline-image is not inside paragraph",0===$(".section2 p .inline-image").length),t("inline-image is inside editable-region",1===$(".section2 div.cms-editable-region img.inline-image").length),e()}),n("the CMS moves a section up",function(e){$(".cms-menu-item-icon-up")[1].click(),i($(".section1 .article-full-width").length>0,"the CMS should move a section up"),e()}),n("the CMS moves a section down",function(e){$(".cms-menu-item-icon-down")[0].click(),i($(".section2 .article-full-width").length>0,"the CMS should move a section down"),e()}),n("the CMS deletes a section",function(e){$(".cms-menu-item-icon-delete")[1].click(),i(0===$("body .article-full-width").length,"the CMS should delete a section"),e()}),n("clicking images shows Image Manager",function(e){$(".hero-center picture")[0].click(),i("Image Manager"==$(".cms-modal-header")[0].innerText,"images should be clickable and show Image Manager"),e()}),n("clicking video shows Video Manager",function(e){cms.sectionManager.showUI(),cms.sectionManager.getTemplateFromFile("_video-full-width.tmpl"),setTimeout(function(){$("video")[0].click(),i("Video Manager"==$(".cms-modal-header")[0].innerText,"videos should be clickable and show Video Manager"),e()},400)}),e}()}),require.register("___globals___",function(e,n,i){})}(),require("___globals___");